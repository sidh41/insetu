<div class="container contact mt-5">
  <div class="card p-3">
    <div class="row">
      <div class="col-12">
        <div class="text-left container">
          @if (status == 'pending') {
          <h2 class="mb-5">Reset Your Password</h2>
          }@else if (status == 'error') {
          <h2 class="mb-5 text-center">Link Expired</h2>
          } @else if (status == 'success') {
          <h2 class="mb-5 text-center">Password Successfully Reseted</h2>
          }
        </div>
      </div>
      <div class="col-12 col-sm-12 col-md-12">
        <div class="container">
          <div class="unique">
            <div class="form px-md-3 mb-0">
              <div data-aos="fade-up" data-aos-easing="ease">
              </div>
              @if (status == 'pending') {
              <form [formGroup]="resetForm" (ngSubmit)="resetPassword()">
                <div class="mb-3" data-aos="fade-up" data-aos-easing="ease">
                  <label for="name" class="form-label">Email</label>
                  <input type="email" class="form-control" id="email" formControlName="email" required />
                </div>
                <div class="mb-3 pb-2" data-aos="fade-up" data-aos-easing="ease">
                  <label for="password">Password</label>
                  <div class="input-group">
                    <input type="password" id="password" class="form-control" formControlName="password" required
                      [ngClass]="{ error: passwordError }" />
                  </div>
                </div>
                <div class="mb-3 pb-2" data-aos="fade-up" data-aos-easing="ease">
                  <label for="message" class="form-label">Confirm Password</label>
                  <div class="input-group">
                    <input type="password" id="passwordConfirm" class="form-control" formControlName="passwordConfirm"
                      required [ngClass]="{ error: passwordError }" />
                  </div>
                </div>
                <div class="d-grid mb-3">
                  <button type="submit" class="btn btn-primary" data-aos="fade-up" data-aos-easing="ease">Reset My
                    Password</button>
                </div>
                @if (passwordError) {
                <p class="error" *ngIf="passwordError">Passwords do not match</p>
                }

              </form>
              }

              @else if (status == 'error') {
              <div class="fade-in">
                <p class="text-center">
                  The attempt to reset a password with this link was not valid. Please
                  request a new password reset link.
                </p>
              </div>
              }
              @else if (status == 'success') {
              <div class="fade-in">
                <p class="text-center">Your password has been successfully reset.</p>
              </div>
              }
            </div>
          </div>
        </div>
      </div>
      <div class="signup-link column text-center d-flex justify-content-around">
        @if (status == 'error') {
        <a routerLink="/home/reset-request" *ngIf="status == 'error'">Request New Password Reset Link.</a>
        }
        <a routerLink="/home">{{
          status == "success"
          ? "Login with your new Password"
          : "Go Back to Login."
          }}</a>
      </div>
    </div>
  </div>
</div>